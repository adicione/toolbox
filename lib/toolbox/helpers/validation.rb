module Toolbox
  # Try to keed a mirror in JS. OLD...

  module Validation
    def valid_email
      /\A[\w+\-.]+@[a-z\d\-.]+\.[a-z]+\z/i
    end

    def valid_brazilian_phone
      /\A\(?((11|12|13|14|15|16|17|18|19|21|22|24|27|28|31|32|33|34|35|37|38|41|42|43|44|45|46|47|48|49|51|53|54|55|61|62|63|64|65|66|67|68|69|71|73|74|75|77|79|81|82|83|84|85|86|87|88|89|91|92|93|94|95|96|97|98|99))\)?(?:\s|-)?(?:[2-5]\d{3}|9[1-9]\d{3})(?:-)?(?:\d{4})\z/
    end

    def valid_date
      # TODO : The following is supposed to be a better version
      # needs testing before inplementing.
      # ^(?:(?:31\/(0[13578]|1[02]))\/\d{4}|(?:29|30)\/(0[13-9]|1[0-2])\/\d{4}|29\/02\/(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:[02468][048]00|[13579][26]00|2000))|(?:0[1-9]|1\d|2[0-8])\/(0[1-9]|1[0-2])\/\d{4})$
      /^(?:(?:(?:(?:31\/(?:0[13578]|1[02]))|(?:(?:29|30)\/(?:0[13-9]|1[0-2])))\/\d{4})|(?:(?:29\/02\/(?:(?:19|[2-9]\d)(?:04|08|[2468][048]|[3579][26])|2000|2400)))|(?:0[1-9]|[12]\d|3[01])\/(?:0[13578]|1[02])\/\d{4}|(?:0[1-9]|1\d|2[0-8])\/(?:0[1-9]|1[0-2])\/\d{4}|(?:29|30)\/(?:0[469]|11)\/\d{4})$/
    end
  end
end
